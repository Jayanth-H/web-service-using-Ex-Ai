{% extends 'home.html' %}

{% block navbar %}
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav ">
      <li class="nav-item">
        <a style="color: white;" class="nav-link active" href="{{url_for('home')}}"> <h5>Home</h5> <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a style="color: white;" class="nav-link" href="{{url_for('recommendation')}}"><h5>Recommendation</h5> </a>
      </li>
      <li class="nav-item">
        <a style="color: yellow;" class="nav-link" href="{{url_for('classification')}}"><h5>Classification</h5> </a>
      </li>
      <li class="nav-item">
        <a style="color: white;" class="nav-link" href="{{url_for('index')}}">LogOut</a>
      </li>
    </ul>
  </div>
{% endblock %}

{% block content %}

  <style>
    .result-section {
      margin-top: 20px;
      padding: 15px;
      background-color: #fff;
      max-width: 500px;
      margin: 20px auto;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .result-section h2 {
      font-size: 22px;
      color: #4CAF50;
    }

    .result-section .explanation {
      background-color: #f9f9f9;
      padding: 15px;
      border-radius: 4px;
      border: 1px solid #ddd;
      font-size: 14px;
      color: #333;
      line-height: 1.6;
      box-shadow: inset 0 1px 5px rgba(0, 0, 0, 0.1);
      margin-top: 15px;
      max-height: auto;
      overflow-y: auto;
    }

    .result-section .explanation code {
      font-size: 13px;
      background-color: #f0f0f0;
      padding: 2px 4px;
      border-radius: 4px;
    }
  </style>

  <section style="margin-top: -80px;" class="contact_section layout_padding">
    <div class="container">

          {% if prediction %}
            <div class="result-section">
                <h2>Prediction: {{ prediction }}</h2>
                <div class="explanation">
                    <h3>Explanation:</h3>
                    <div>{{ explanation|safe }}</div>
                </div>
            </div>
          {% endif %}

      <div class="row">
        <div style="margin-left: 300px; margin-top: 20px;" class="col-md-6">
          <form action="{{url_for('classification')}}" method="post">

            <div>
              <center>
                {% if data %}
                  {% for key in data.keys() %}
                    <select name="{{ key }}" class="form-control" required>
                        <option value="">Choose {{ key }}</option>
                        {% for value in data[key] %}
                            <option value="{{ value[1] }}">{{ value[0] }}</option>
                        {% endfor %}
                    </select><br>
                  {% endfor %}
                {% endif %}
              </center>
            </div>

            <div>
              <center>
                <input style="border-radius: 5px; color: black;" type="number" step="0.0001" step="0.00" name="Response_Time" placeholder="Enter Response Time" required/>
              </center>
            </div>

            <div>
              <center>
                <input style="border-radius: 5px; color: black;" type="number" step="0.0001" step="0.00" name="Availability" placeholder="Availability" required/>
              </center>
            </div>

            <div>
              <center>
                <input style="border-radius: 5px; color: black;" type="number" step="0.0001" step="0.00" name="Throughput" placeholder="Throughput" required/>
              </center>
            </div>

            <div>
              <center>
                <input style="border-radius: 5px; color: black;" type="number" step="0.0001" step="0.00" name="Successability" placeholder="Successability" required/>
              </center>
            </div>
            
            <div>
              <center>
                <input style="border-radius: 5px; color: black;" type="number" step="0.0001" step="0.00" name="Reliability" placeholder="Reliability" required/>
              </center>
            </div>

            <div>
              <center>
                <input style="border-radius: 5px; color: black;" type="number" step="0.0001" step="0.00" name="Compliance" placeholder="Compliance" required/>
              </center>
            </div>

            <div>
              <center>
                <input style="border-radius: 5px; color: black;" type="number" step="0.0001" step="0.00" name="Best_Practices" placeholder="Best Practices" required/>
              </center>
            </div>

            <div>
              <center>
                <input style="border-radius: 5px; color: black;" type="number" step="0.0001" step="0.00" name="Latency" placeholder="Latency" required/>
              </center>
            </div>

            <div>
              <center>
                <input style="border-radius: 5px; color: black;" type="number" step="0.0001" step="0.00" name="Documentation" placeholder="Documentation" required/>
              </center>
            </div>

            <div class="d-flex ">
              <center>
                <button style="margin-left: 180px; border-radius: 5px;" type="submit">
                  Predict!
                </button>
              </center>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
{% endblock %}